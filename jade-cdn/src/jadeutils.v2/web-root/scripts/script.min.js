Number.prototype.format=function(e){var t=this.toString().replace(/\$|\,/g,"");isNaN(t)&&(t="0"),sign=t==(t=Math.abs(t)),t=Math.floor(100*t+.50000000001),cents=t%100,t=Math.floor(t/100).toString(),cents<10&&(cents="0"+cents);for(var n=0;n<Math.floor((t.length-(1+n))/3);n++)t=t.substring(0,t.length-(4*n+3))+","+t.substring(t.length-(4*n+3));return(sign?"":"-")+t+"."+cents},Number.prototype.add=function(e){var t,n,r;try{t=this.toString().split(".")[1].length}catch(e){t=0}try{n=e.toString().split(".")[1].length}catch(e){n=0}var i=(r=((this*(r=Math.pow(10,Math.max(t,n)))+e*r)/r).toString()).split(".");1<i.length&&i[1].length<2&&(r+="0");return r},Number.prototype.sub=function(e){return this.add(-e)},Number.prototype.mul=function(e){var t=0,n=this.toString(),r=e.toString();try{t+=n.split(".")[1].length}catch(e){}try{t+=r.split(".")[1].length}catch(e){}var i=(t=(Number(n.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,t)).toString()).split(".");1<i.length&&i[1].length<2&&(t+="0");return t},Number.prototype.div=function(e){var t=0,n=0;try{t=this.toString().split(".")[1].length}catch(e){}try{n=e.toString().split(".")[1].length}catch(e){}return Number(this.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,n-t)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.trimLeft=function(){return this.replace(/(^\s*)/g,"")},String.prototype.trimRight=function(){return this.replace(/(\s*$)/g,"")},String.prototype.format=function(e){var t=this;if(arguments.length<1)return t;var n=arguments;for(var r in 1==arguments.length&&"object"==typeof e&&(n=e),n){var i=n[r];void 0!==i&&(t=t.replace("{"+r+"}",i))}return t},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)},String.prototype.format=function(e){var t=this;if(arguments.length<1)return t;var n=arguments;for(var r in 1==arguments.length&&"object"==typeof e&&(n=e),n){var i=n[r];void 0!==i&&(t=t.replaceAll("\\{"+r+"\\}",i))}return t},function(){var e,t;jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t={},(e=jQuery.uaMatch(navigator.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),jQuery.browser=t}(jQuery);var net=net||{};net.jadedungeon=net.jadedungeon||{},net.jadedungeon.utils=net.jadedungeon.utils||{},function(){net.jadedungeon.utils.string=function(){return this.init(),this};var e=net.jadedungeon.utils.string.prototype;e.init=function(e){},e.formatNumber=function(e,t){t=0<t&&t<=20?t:2;for(var n=(e=e.toFixed(t)+"").split(".")[0].split("").reverse(),r=e.split(".")[1],i="",a=0;a<n.length;a++)i+=n[a]+((a+1)%3==0&&a+1!=n.length?",":"");return i.split("").reverse().join("")+"."+r},e.unformatNumber=function(e){return parseFloat(s.replace(/[^\d\.-]/g,""))},e.utf16to8=function(e){var t,n,r,i;for(t="",r=e.length,n=0;n<r;n++)1<=(i=e.charCodeAt(n))&&i<=127?t+=e.charAt(n):(2047<i?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63)):t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t},e.utf8to16=function(e){var t,n,r,i,a,o;for(t="",r=e.length,n=0;n<r;)switch((i=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:a=e.charCodeAt(n++),t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e.charCodeAt(n++),o=e.charCodeAt(n++),t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t},e.base64encode=function(e){var t,n,r,i,a,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(r=e.length,n=0,t="";n<r;){if(i=255&e.charCodeAt(n++),n==r){t+=s.charAt(i>>2),t+=s.charAt((3&i)<<4),t+="==";break}if(a=e.charCodeAt(n++),n==r){t+=s.charAt(i>>2),t+=s.charAt((3&i)<<4|(240&a)>>4),t+=s.charAt((15&a)<<2),t+="=";break}o=e.charCodeAt(n++),t+=s.charAt(i>>2),t+=s.charAt((3&i)<<4|(240&a)>>4),t+=s.charAt((15&a)<<2|(192&o)>>6),t+=s.charAt(63&o)}return t},e.base64decode=function(e){var t,n,r,i,a,o,s,u=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(o=e.length,a=0,s="";a<o;){for(;t=u[255&e.charCodeAt(a++)],a<o&&-1==t;);if(-1==t)break;for(;n=u[255&e.charCodeAt(a++)],a<o&&-1==n;);if(-1==n)break;s+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(r=255&e.charCodeAt(a++)))return s;r=u[r]}while(a<o&&-1==r);if(-1==r)break;s+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(61==(i=255&e.charCodeAt(a++)))return s;i=u[i]}while(a<o&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&r)<<6|i)}return s}}(jQuery),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n=this.getFullYear()+"";for(var r in n=4<=n.length?n:"0000".substr(0,4-n.length)+n,/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n+"").substr(4-RegExp.$1.length))),t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e},Date.prototype.addMilliseconds=function(e){var t=new Date(this);return t.setTime(t.getTime()+e),t},Date.prototype.addSeconds=function(e){var t=new Date(this);return t.setSeconds(t.getSeconds()+e),t},Date.prototype.addDays=function(e){var t=new Date(this);return t.setDate(t.getDate()+e),t},Date.prototype.addMonths=function(e){var t=new Date(this);return t.setMonth(t.getMonth()+e),t},Date.prototype.addYear=function(e){var t=new Date(this);return t.setFullYear(t.getFullYear()+e),t},function(){net.jadedungeon.utils.time=function(){return this.init(),this};var i=net.jadedungeon.utils.time.prototype;i.init=function(e){},i.addDay=function(e,t){var n=new Date;return n.setDate(e.getDate()+t),n},i.cleanDay=function(e){var t=new Date;return t.setTime(e.getTime()),t.setHours(0,0,0,0),t},i.getLocalTimeZone=function(){return"GMT"+(new Date).getTimezoneOffset()/60},i.getLocalTimeZoneName=function(){var e=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),t=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-660==e&&-660==t?"Pacific/Midway":-600==e&&-600==t?"Pacific/Tahiti":-570==e&&-570==t?"Pacific/Marquesas":-540==e&&-600==t?"America/Adak":-540==e&&-540==t?"Pacific/Gambier":-480==e&&-540==t?"US/Alaska":-480==e&&-480==t?"Pacific/Pitcairn":-420==e&&-480==t?"US/Pacific":-420==e&&-420==t?"US/Arizona":-360==e&&-420==t?"US/Mountain":-360==e&&-360==t?"America/Guatemala":-360==e&&-300==t?"Pacific/Easter":-300==e&&-360==t?"US/Central":-300==e&&-300==t?"America/Bogota":-240==e&&-300==t?"US/Eastern":-240==e&&-240==t?"America/Caracas":-240==e&&-180==t?"America/Santiago":-180==e&&-240==t?"Canada/Atlantic":-180==e&&-180==t?"America/Montevideo":-180==e&&-120==t?"America/Sao_Paulo":-150==e&&-210==t?"America/St_Johns":-120==e&&-180==t?"America/Godthab":-120==e&&-120==t?"America/Noronha":-60==e&&-60==t?"Atlantic/Cape_Verde":0==e&&-60==t?"Atlantic/Azores":0==e&&0==t?"Africa/Casablanca":60==e&&0==t?"Europe/London":60==e&&60==t?"Africa/Algiers":60==e&&120==t?"Africa/Windhoek":120==e&&60==t?"Europe/Amsterdam":120==e&&120==t?"Africa/Harare":180==e&&120==t?"Europe/Athens":180==e&&180==t?"Africa/Nairobi":240==e&&180==t?"Europe/Moscow":240==e&&240==t?"Asia/Dubai":270==e&&210==t?"Asia/Tehran":270==e&&270==t?"Asia/Kabul":300==e&&240==t?"Asia/Baku":300==e&&300==t?"Asia/Karachi":330==e&&330==t?"Asia/Calcutta":345==e&&345==t?"Asia/Katmandu":360==e&&300==t?"Asia/Yekaterinburg":360==e&&360==t?"Asia/Colombo":390==e&&390==t?"Asia/Rangoon":420==e&&360==t?"Asia/Almaty":420==e&&420==t?"Asia/Bangkok":480==e&&420==t?"Asia/Krasnoyarsk":480==e&&480==t?"Australia/Perth":540==e&&480==t?"Asia/Irkutsk":540==e&&540==t?"Asia/Tokyo":570==e&&570==t?"Australia/Darwin":570==e&&630==t?"Australia/Adelaide":600==e&&540==t?"Asia/Yakutsk":600==e&&600==t?"Australia/Brisbane":600==e&&660==t?"Australia/Sydney":630==e&&660==t?"Australia/Lord_Howe":660==e&&600==t?"Asia/Vladivostok":660==e&&660==t?"Pacific/Guadalcanal":690==e&&690==t?"Pacific/Norfolk":720==e&&660==t?"Asia/Magadan":720==e&&720==t?"Pacific/Fiji":720==e&&780==t?"Pacific/Auckland":765==e&&825==t?"Pacific/Chatham":780==e&&780==t?"Pacific/Enderbury":840==e&&840==t?"Pacific/Kiritimati":"Not in US"},i.getTimeArea=function(e,t){var n=i.cleanDay(e),r=i.cleanDay(i.addDay(n,t));return n<r?{floor:n,ceil:r}:{floor:r,ceil:n}},i.getLocalTimeStr=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}}(jQuery),function(){net.jadedungeon.utils.validator=function(){return this.init(),this};var e=net.jadedungeon.utils.validator.prototype;e.init=function(e){},e.checkUsername=function(e){return/^[\u4e00-\u9fa5a-z][\u4e00-\u9fa5a-z0-9 ]+$/i.test(e)},e.checkMobile_zh_CN=function(e){return/^1[3|4|5|8][0-9]\d{8}$/.test(e)},e.checkImageFilePostfix=function(e){return!!e.match(/.jpg|.gif|.png|.bmp/i)},e.checkImageFileSize=function(e,t){var n=e.value;n.substring(n.lastIndexOf(".")).toLowerCase();if(e.files&&e.files[0]){if(console.log(e.files[0].size),e.files[0].size>t)return alert("图片大于500K，请压缩后上传"),!1;var r=e.files[0];for(var i in r)if(r[i].size>t)return alert("图片大于500K，请压缩后上传"),!1}else{e.select();var a=document.selection.createRange().text;try{var o=new ActiveXObject("Scripting.FileSystemObject");if(console.log(o.GetFile(a).size),o.GetFile(a).size)return alert("图片大于500K，请压缩后上传"),!1}catch(e){alert("如果你用的是ie 请将安全级别调低！")}}return!0}}(jQuery),function(){net.jadedungeon.utils.web=function(){return this.init(),this};var e=net.jadedungeon.utils.web.prototype;e.init=function(e){},e.goUrl=function(e){var t=document.createElement("a");if(document.body.appendChild(t),t.href=e,t.click)t.click();else try{var n=document.createEvent("Event");n.initEvent("click",!0,!0),t.dispatchEvent(n)}catch(e){}},e.openWindow=function(e){var t=document.createElement("a");if(document.body.appendChild(t),t.href=e,t.target="_blank",t.click)t.click();else try{var n=document.createEvent("Event");n.initEvent("click",!0,!0),t.dispatchEvent(n)}catch(e){}},e.webAuthBasic=function(e,t){return"Basic "+jadeUtils.string.base64encode(jadeUtils.string.utf16to8(e+":"+t))},e.cookieOperator=function(e,t,n){if(void 0===t){var r=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),a=0;a<i.length;a++){var o=i[a].trim();if(o.substring(0,e.length+1)==e+"="){r=decodeURIComponent(o.substring(e.length+1));break}}return r}n=n||{},null===t&&(t="",n.expires=-1);var s,u="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,u=";expires="+s.toUTCString());var c=n.path?";path="+n.path:"",l=n.domain?";domain="+n.domain:"",h=n.secure?";secure":"";document.cookie=[e,"=",encodeURIComponent(t),u,c,l,h].join("")}}(jQuery),function(){net.jadedungeon.utils.i18n=function(e){return this.init(e),this};var e=net.jadedungeon.utils.i18n.prototype;e.init=function(e){this.msg=e||{}},e.get=function(e){return this.msg[e]}}(jQuery),jQuery,net.jadedungeon.dataStructure={},function(){net.jadedungeon.dataStructure.Map=function(e){return this.init(e),this};var e=net.jadedungeon.dataStructure.Map.prototype;e.init=function(e){this.elements=e||[]},e.size=function(){return this.elements.length},e.isEmpty=function(){return this.elements.length<1},e.removeAll=function(){this.elements=[]},e.put=function(e,t){this.elements.push({key:e,value:t})},e.remove=function(e){var t=!1;try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==e)return this.elements.splice(i,1),!0}catch(e){t=!1}return t},e.get=function(e){try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==e)return this.elements[i].value}catch(e){return null}},e.getElementByIndex=function(e){return e<0||e>=this.elements.length?null:this.elements[e]},e.containsKey=function(e){var t=!1;try{for(i=0;i<this.elements.length;i++)this.elements[i].key==e&&(t=!0)}catch(e){t=!1}return t},e.containsValue=function(e){var t=!1;try{for(i=0;i<this.elements.length;i++)this.elements[i].value==e&&(t=!0)}catch(e){t=!1}return t},e.values=function(){var e=[];for(i=0;i<this.elements.length;i++)e.push(this.elements[i].value);return e},e.keys=function(){var e=[];for(i=0;i<this.elements.length;i++)e.push(this.elements[i].key);return e}}(jQuery),function(){net.jadedungeon.dataStructure.Stack=function(e){return this.init(e),this};var e=net.jadedungeon.dataStructure.Stack.prototype;e.init=function(e){this.elements=e||[]},e.push=function(e){if(0===arguments.length)return-1;for(var t=0;t<arguments.length;t+=1)this.elements.push(arguments[t]);return this.elements.length},e.pop=function(){return 0===this.elements.length?null:this.elements.pop()},e.size=function(){return this.elements.length},e.getTop=function(){return 0===this.elements.length?null:this.elements[this.elements.length-1]},e.removeAll=function(){this.elements.length=0},e.isEmpty=function(){return 0===this.elements.length},e.toString=function(){var e=this.elements.reverse().toString();return this.elements.reverse(),e}}(jQuery),function(){net.jadedungeon.dataStructure.Queue=function(e){return this.init(e),this};var e=net.jadedungeon.dataStructure.Queue.prototype;e.init=function(e){this.elements=e||[]},e.push=function(e){if(0===arguments.length)return-1;for(var t=0;t<arguments.length;t+=1)this.elements.push(arguments[t]);return this.elements.length},e.pop=function(){return 0===this.elements.length?null:this.elements.shift()},e.size=function(){return this.elements.length},e.GetHead=function(){return 0===this.elements.length?null:this.elements[0]},e.GetEnd=function(){return 0===this.elements.length?null:this.elements[this.elements.length-1]},e.removeAll=function(){this.elements.length=0},e.isEmpty=function(){return 0===this.elements.length},e.toString=function(){var e=this.elements.reverse().toString();return this.elements.reverse(),e}}(jQuery),net.jadedungeon.dataStructure.TreeNode=function(){return this.init(),this},net.jadedungeon.dataStructure.TreeNode.prototype.init=function(e){};var jadeUtils=jadeUtils||{};jadeUtils.string=new net.jadedungeon.utils.string,jadeUtils.time=new net.jadedungeon.utils.time,jadeUtils.dataStructure=net.jadedungeon.dataStructure,jadeUtils.validator=new net.jadedungeon.utils.validator,jadeUtils.web=new net.jadedungeon.utils.web;